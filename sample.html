<!DOCTYPE html>
<html>
<head>
<title>W3.CSS Template</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<style>
      .well-chart {
        background-color: #100f10;
        color: white;
        padding: 20px;
        box-sizing: border-box;
        text-align: center;
        margin-bottom: 10px;
      }
      .well-chart iframe.chart {
        width: 100%;
        height: 300px;
        border: none;
      }
  
body, h1, h2, h3, h4, h5, h6 {
    font-family: "Montserrat", sans-serif;
}
.w3-row-padding img {
    margin-bottom: 12px;
}
/* Set the width of the sidebar to 120px */
.w3-sidebar {
    width: 120px;
    background: #222;
}
/* Add a left margin to the "page content" that matches the width of the sidebar (120px) */
#main {
    margin-left: 120px;
}
/* Remove margins from "page content" on small screens */
@media only screen and (max-width: 700px) {
    #main {
        margin-left: 0;
    }
}

.container-fluid {
    margin-top: 20px;
    height:100px;
    display: flex;
    justify-content: space-between;
}

.col-left {
    flex: 0 0 45%; /* 45% width for left column */
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

.col-right {
    flex: 0 0 40%; /* 45% width for right column */
    display: flex;
    align-items: center; /* Center the warning box vertically */
    justify-content: center;
    max-height: 300px;
}

.well {
    flex: 0 0 48%; /* Two boxes per row */
    background-color: #5a4378;
    color: white;
    padding: 20px;
    border-radius: 50px;
    box-sizing: border-box;
    text-align: center;
}

.well-warning {
    flex: 1;
    background-color: #f40505;
    padding: 20px;
    box-sizing: border-box;
    text-align: center;
}
.visual{
  margin-top: 500px;
}
</style>
</head>
<body class="w3-black">

<!-- Icon Bar (Sidebar - hidden on small screens) -->
<nav class="w3-sidebar w3-bar-block w3-small w3-hide-small w3-center">
  <!-- Avatar image in top left corner -->
  <img src="/w3images/avatar_smoke.jpg" style="width:100%">
  <a href="#" class="w3-bar-item w3-button w3-padding-large w3-black">
    <i class="fa fa-home w3-xxlarge"></i>
    <p>HOME</p>
  </a>
  <a href="#chart" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
    <i class="fa fa-chart-line w3-xxlarge"></i>
    <p>CHART</p>
</a>
  <a href="#photos" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
    <i class="fa fa-eye w3-xxlarge"></i>
    <p>PHOTOS</p>
  </a>
  <a href="#contact" class="w3-bar-item w3-button w3-padding-large w3-hover-black">
    <i class="fa fa-envelope w3-xxlarge"></i>
    <p>CONTACT</p>
  </a>
</nav>

<!-- Navbar on small screens (Hidden on medium and large screens) -->
<div class="w3-top w3-hide-large w3-hide-medium" id="myNavbar">
  <div class="w3-bar w3-black w3-opacity w3-hover-opacity-off w3-center w3-small">
    <a href="#" class="w3-bar-item w3-button" style="width:600px !important">HOME</a>
    <a href="#chart" class="w3-bar-item w3-button" style="width:25% !important">CHART</a>
    <a href="#photos" class="w3-bar-item w3-button" style="width:25% !important">PHOTOS</a>
    <a href="#contact" class="w3-bar-item w3-button" style="width:25% !important">CONTACT</a>
  </div>
</div>

<!-- Page Content -->
<div class="w3-padding-large" id="main">
  <div class="container-fluid">
    <div class="col-left">
      <div class="well well-temperature">
        <h4>Temperature</h4>
        <p id="temp-value">Loading...</p> 
      </div>
      <div class="well well-speed">
        <h4>Speed</h4>
        <p id="speed-value">Loading...</p> 
      </div>
      <div class="well well-weight">
        <h4>Weight</h4>
        <p id="weight-value">Loading...</p> 
      </div>
      <div class="well well-vibration">
        <h4>Vibration</h4>
        <p id="vibration-value">Loading...</p> 
      </div>
      <div class="well well-battery">
        <h4>Battery</h4>
        <p id="battery-value">Loading...</p> 
      </div>        
    </div>
    <div class="col-right">
      <div class="well well-warning">
        <h4>Warnings</h4>
        <p id="warnings">No warnings</p> 
      </div>
    </div>
  </div>

  <!-- Visual section -->
  <div id="chart" class="visual">
    <!-- This is where you want to scroll to -->
  </div>

  <div class="visual">
    <script id="data-template-temp" type="text/x-handlebars-template">
      {{temperature}}
    </script>

    <script id="data-template-speed" type="text/x-handlebars-template">
      {{speed}}
    </script>

  <script id="data-template-weight" type="text/x-handlebars-template">
    {{weight}}
  </script>

  <script id="data-template-vibration" type="text/x-handlebars-template">
    {{vibration}}
  </script>

  <script id="data-template-battery" type="text/x-handlebars-template">
    {{battery}}
  </script>
</div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.7.7/handlebars.min.js"></script>

  <script>
    $(document).ready(function() {
      fetch('https://sheetdb.io/api/v1/r9ican1884u4d')
        .then(response => response.json())
        .then(data => {
          // Assuming the data is an array of objects and we need the first object
          const sensorData = data[0];

          // Temperature
          const sourceTemp = document.getElementById('data-template-temp').innerHTML;
          const templateTemp = Handlebars.compile(sourceTemp);
          const outputTemp = document.getElementById('temp-value');
          outputTemp.innerHTML = templateTemp({ temperature: sensorData.temperature });

          // Speed
          const sourceSpeed = document.getElementById('data-template-speed').innerHTML;
          const templateSpeed = Handlebars.compile(sourceSpeed);
          const outputSpeed = document.getElementById('speed-value');
          outputSpeed.innerHTML = templateSpeed({ speed: sensorData.speed });

          // Weight
          const sourceWeight = document.getElementById('data-template-weight').innerHTML;
          const templateWeight = Handlebars.compile(sourceWeight);
          const outputWeight = document.getElementById('weight-value');
          outputWeight.innerHTML = templateWeight({ weight: sensorData.weight });

          // Vibration
          const sourceVibration = document.getElementById('data-template-vibration').innerHTML;
          const templateVibration = Handlebars.compile(sourceVibration);
          const outputVibration = document.getElementById('vibration-value');
          outputVibration.innerHTML = templateVibration({ vibration: sensorData.vibration });

          // Battery
          const sourceBattery = document.getElementById('data-template-battery').innerHTML;
          const templateBattery = Handlebars.compile(sourceBattery);
          const outputBattery = document.getElementById('battery-value');
          outputBattery.innerHTML = templateBattery({ battery: sensorData.battery });
        })
        .catch(error => console.error('Error:', error));
    });
  </script>
<!-- Carousel -->
<div id="demo" class="carousel slide" >
  
  <!-- Indicators/dots -->
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#demo" data-bs-slide-to="0" class="active"></button>
    <button type="button" data-bs-target="#demo" data-bs-slide-to="1"></button>
    <button type="button" data-bs-target="#demo" data-bs-slide-to="2"></button>
    <button type="button" data-bs-target="#demo" data-bs-slide-to="3"></button>
    <button type="button" data-bs-target="#demo" data-bs-slide-to="4"></button>
  </div>
  
  <!-- The slideshow/carousel -->
  <div class="carousel-inner">
    <div class="carousel-item active">
      <div class="d-flex flex-wrap justify-content-around">
        <div class="well-chart">
          <h4>Temperature</h4>
          <iframe width="717" height="309" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRXSrnKcvyWeAqSqthnQjpx3XuteBITwcecZZV8xXnJkQ-WWTLwdG8ITq8ByGAj3Y4e7CEhJX7qeZyy/pubchart?oid=653788023&amp;format=interactive"></iframe>        </div>
      </div>
    </div>
    <div class="carousel-item">
      <div class="d-flex flex-wrap justify-content-around">
        <div class="well-chart">
          <h4>Speed</h4>
          <iframe width="590" height="325" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRXSrnKcvyWeAqSqthnQjpx3XuteBITwcecZZV8xXnJkQ-WWTLwdG8ITq8ByGAj3Y4e7CEhJX7qeZyy/pubchart?oid=1072972736&amp;format=interactive"></iframe>        </div>
      </div>
    </div>
    <div class="carousel-item">
      <div class="d-flex flex-wrap justify-content-around">
        <div class="well-chart">
          <h4>Weight</h4>
          <iframe width="586" height="300" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRXSrnKcvyWeAqSqthnQjpx3XuteBITwcecZZV8xXnJkQ-WWTLwdG8ITq8ByGAj3Y4e7CEhJX7qeZyy/pubchart?oid=1081879489&amp;format=interactive"></iframe>        </div>
      </div>
    </div>
    <div class="carousel-item">
      <div class="d-flex flex-wrap justify-content-around">
        <div class="well-chart">
          <h4>Vibration</h4>
          <iframe width="590" height="325" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRXSrnKcvyWeAqSqthnQjpx3XuteBITwcecZZV8xXnJkQ-WWTLwdG8ITq8ByGAj3Y4e7CEhJX7qeZyy/pubchart?oid=1072972736&amp;format=interactive"></iframe>        </div>
      </div>
    </div>
    <div class="carousel-item">
      <div class="d-flex flex-wrap justify-content-around">
        <div class="well-chart">
          <h4>Battery</h4>
          <iframe width="590" height="325" seamless frameborder="0" scrolling="no" src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRXSrnKcvyWeAqSqthnQjpx3XuteBITwcecZZV8xXnJkQ-WWTLwdG8ITq8ByGAj3Y4e7CEhJX7qeZyy/pubchart?oid=1072972736&amp;format=interactive"></iframe>        </div>
      </div>
    </div>
  </div>
  
  <!-- Left and right controls/icons -->
  <button class="carousel-control-prev" type="button" data-bs-target="#demo" data-bs-slide="prev">
    <span class="carousel-control-prev-icon"></span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#demo" data-bs-slide="next">
    <span class="carousel-control-next-icon"></span>
  </button>
</div>
</body>
</html>